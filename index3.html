<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>hykathon-2</title>
    <link rel="stylesheet" href="./style3.css">
</head>
<body>
   
  <div class="navbar">
    <a href="#" class="left">Personal blogging App</a>
    <a href="index4.html"class="me">User</a>
    <a href="index2.html"class="you">Logout</a>
  </div>
  

      <header class="main-header">
        <div class="header-content">
          <h1 class="header-heading-left">DASHBOARD</h1>
        </div>
      </header>

      <div class="centered-div">
        
        <div class="input-container">
            <label for="name">Name:</label>
            <input type="text" id="name" class="input-field" placeholder="Enter your name">
        </div>
    
        <div class="input-container">
            <label for="date" id="da">Date of Birth:</label>
            <input type="date" id="dat" class="input-field">
        </div>
        <input type="text" class="input-field"id="headin" placeholder="heading">
        <input type="email" class="input-field2"id="text" placeholder="What is in your mind">
        <button class="colorful-button"id="publish">Publish blog</button>
      </div>
      
<div class="centre"><h1>MY BLOGS</h1>
</div>

<div class="div1"id="div1">
  <div class="uname" id="uname"></div>
  <div class="date"id="date"></div>
  <div class="heading"id="heading"></div>
  <div class="mind"id="mind"></div>
</div>


<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.3.0/firebase-app.js";
  import { getDatabase,set,ref } from "https://www.gstatic.com/firebasejs/10.3.0/firebase-database.js";
  
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyC7sikqnMQtH_02LqjFaqy-8PsVDI1er9s",
    authDomain: "mini-hykathoun.firebaseapp.com",
    databaseURL: "https://mini-hykathoun-default-rtdb.firebaseio.com",
    projectId: "mini-hykathoun",
    storageBucket: "mini-hykathoun.appspot.com",
    messagingSenderId: "630508298169",
    appId: "1:630508298169:web:583f91a10fc46386d76068"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const db=getDatabase(app)



  var name = document.getElementById("name")
        var dat = document.getElementById("dat")
        var heading = document.getElementById("headin")
        var text = document.getElementById("text")

        
       
publish.addEventListener("click",InsertData)

  function InsertData() {
    
    if(name==""||dat==""||heading==""||text==""){
  alert("Must provide input for all fields before publishing")
}
else{
            set(ref(db, "The Dashboard" + name.value), {
                Name: name.value,
                Date: dat.value,
                haeding: heading.value,
                Mind:text.value
            })
                .then(() => {
                    // Signed in 
                    alert("datastored")
                    // ...
                    div1.innerHTML = `
                <p>Name: ${name.value}</p>
                <p>Date: ${dat.value}</p>
                <p>Heading: ${heading.value}</p>
                <p>Mind: ${text.value}</p>
            `;
        })
                
                .catch(() => {
                    alert(" no datastored")
                    // ..
                });}
              }




</script>

















      </script>

      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
  </body>
</html>
